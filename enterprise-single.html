<head>
  <title>enterprise-single.svg</title>
  <script src="d3.v3.js" charset="utf-8"></script>
  <link rel="stylesheet" href="style.css" type="text/css"></link>
  <style>
body {
  font-family: "helvetica";
}
#diagram, #desc-wrap {
  border: 1px solid blue;
}
#diagram {
    float: left;
    xdisplay: inline-block;
}
#desc-wrap {
  margin: 8px;
}

#desc {
  padding: 4px;
}

  </style>
</head>
<body>
  <!--
    TODO: want to embed these into this - but height/width getting botched
  -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" style="display:none">
  <defs>
    <!-- TODO: embeded_images -->
    <g id="user" width="45" height="50">
      <path d="M31.77 31.35C35.78 28.21 39.46 22.68 39.46 17.19 39.46 7.7 31.73 0 22.19 0 12.65 0 4.91 7.7 4.91 17.19 4.91 22.68 8.81 28.32 12.83 31.46 5.63 35.12 0.56 41.57 0 50.02L1.83 50.02C2.44 42.1 7.61 35.47 14.73 32.68 16.99 33.77 19.51 34.39 22.19 34.39 24.87 34.39 27.39 33.77 29.65 32.68 36.77 35.47 41.94 42.1 42.54 50.02L44.38 50.02C43.82 41.57 38.97 35.01 31.77 31.35M22.19 32.57C14.38 32.57 6.74 24.96 6.74 17.19 6.74 9.42 14.38 1.81 22.19 1.81 30 1.81 37.63 9.42 37.63 17.19 37.63 24.96 30 32.57 22.19 32.57Z"/>
    </g>
  </defs>
</svg>
<div id="diagram">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: Enterprise Pages: 1 -->
<svg width="631pt" height="361pt"
 viewBox="0.00 0.00 631.00 361.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 357)">
<title>Enterprise</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-357 627,-357 627,4 -4,4"/>
<g id="app101" class="cluster"><title>cluster_101</title>
<path fill="lightgrey" stroke="black" d="M495,-75C495,-75 603,-75 603,-75 609,-75 615,-81 615,-87 615,-87 615,-333 615,-333 615,-339 609,-345 603,-345 603,-345 495,-345 495,-345 489,-345 483,-339 483,-333 483,-333 483,-87 483,-87 483,-81 489,-75 495,-75"/>
<text text-anchor="middle" x="549" y="-329.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Master Appliance</text>
</g>
<g id="app201" class="cluster"><title>cluster_201</title>
<path fill="lightgrey" stroke="black" d="M76,-75C76,-75 318,-75 318,-75 324,-75 330,-81 330,-87 330,-87 330,-333 330,-333 330,-339 324,-345 318,-345 318,-345 76,-345 76,-345 70,-345 64,-339 64,-333 64,-333 64,-87 64,-87 64,-81 70,-75 76,-75"/>
<text text-anchor="middle" x="197" y="-329.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Regional DB Appliance</text>
</g>
<g id="app202" class="cluster"><title>cluster_202</title>
<path fill="lightgrey" stroke="black" d="M391,-158C391,-158 463,-158 463,-158 469,-158 475,-164 475,-170 475,-170 475,-232 475,-232 475,-238 469,-244 463,-244 463,-244 391,-244 391,-244 385,-244 379,-238 379,-232 379,-232 379,-170 379,-170 379,-164 385,-158 391,-158"/>
<text text-anchor="middle" x="427" y="-228.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Worker App</text>
</g>
<!-- kdc301 -->
<g id="kdc301" class="node"><title>kdc301</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M84,-0.5C84,-0.5 114,-0.5 114,-0.5 120,-0.5 126,-6.5 126,-12.5 126,-12.5 126,-34.5 126,-34.5 126,-40.5 120,-46.5 114,-46.5 114,-46.5 84,-46.5 84,-46.5 78,-46.5 72,-40.5 72,-34.5 72,-34.5 72,-12.5 72,-12.5 72,-6.5 78,-0.5 84,-0.5"/>
<text text-anchor="middle" x="99" y="-31.3" font-family="Helvetica,sans-Serif" font-size="14.00">IdM</text>
<polyline fill="none" stroke="black" stroke-width="2" points="72,-23.5 126,-23.5 "/>
<text text-anchor="middle" x="99" y="-8.3" font-family="Helvetica,sans-Serif" font-size="14.00">kdc</text>
</g>
<!-- ldp301 -->
<g id="ldp301" class="node"><title>ldp301</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M12,-0.5C12,-0.5 42,-0.5 42,-0.5 48,-0.5 54,-6.5 54,-12.5 54,-12.5 54,-34.5 54,-34.5 54,-40.5 48,-46.5 42,-46.5 42,-46.5 12,-46.5 12,-46.5 6,-46.5 0,-40.5 0,-34.5 0,-34.5 0,-12.5 0,-12.5 0,-6.5 6,-0.5 12,-0.5"/>
<text text-anchor="middle" x="27" y="-31.3" font-family="Helvetica,sans-Serif" font-size="14.00">IdM</text>
<polyline fill="none" stroke="black" stroke-width="2" points="0,-23.5 54,-23.5 "/>
<text text-anchor="middle" x="27" y="-8.3" font-family="Helvetica,sans-Serif" font-size="14.00">ldap</text>
</g>
<!-- cloud2 -->
<g id="cloud2" class="node"><title>cloud2</title>
<g id="a_cloud2"><a xlink:title="VMWare, OpenStack, Etc">
<polygon fill="none" stroke="none" stroke-width="2" points="486.5,-46.5 405.5,-46.5 405.5,-0.5 486.5,-0.5 486.5,-46.5"/>
<image xlink:href="cloud.svg" width="81px" height="46px" preserveAspectRatio="xMinYMin meet" x="405.5" y="-46.5"/>
<text text-anchor="middle" x="446" y="-19.8" font-family="Helvetica,sans-Serif" font-size="14.00">VMWare</text>
</a>
</g>
</g>
<!-- iam1 -->
<g id="iam1" class="node"><title>iam1</title>
<g id="a_iam1"><a xlink:title="Amazon Identitay Access Management">
<polygon fill="none" stroke="none" stroke-width="2" points="387.5,-46.5 306.5,-46.5 306.5,-0.5 387.5,-0.5 387.5,-46.5"/>
<image xlink:href="cloud.svg" width="81px" height="46px" preserveAspectRatio="xMinYMin meet" x="306.5" y="-46.5"/>
<text text-anchor="middle" x="347" y="-27.3" font-family="Helvetica,sans-Serif" font-size="14.00">Amazon</text>
<text text-anchor="middle" x="347" y="-12.3" font-family="Helvetica,sans-Serif" font-size="14.00">IAM</text>
</a>
</g>
</g>
<!-- db101 -->
<g id="db101" class="node"><title>db101</title>
<polygon fill="none" stroke="none" stroke-width="2" points="580,-314 518,-314 518,-252 580,-252 580,-314"/>
<image xlink:href="db.svg" width="62px" height="62px" preserveAspectRatio="xMinYMin meet" x="518" y="-314"/>
<text text-anchor="middle" x="549" y="-279.3" font-family="Helvetica,sans-Serif" font-size="14.00">DB1</text>
</g>
<!-- ui101 -->
<g id="ui101" class="node"><title>ui101</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M531.5,-166.5C531.5,-166.5 566.5,-166.5 566.5,-166.5 572.5,-166.5 578.5,-172.5 578.5,-178.5 578.5,-178.5 578.5,-200.5 578.5,-200.5 578.5,-206.5 572.5,-212.5 566.5,-212.5 566.5,-212.5 531.5,-212.5 531.5,-212.5 525.5,-212.5 519.5,-206.5 519.5,-200.5 519.5,-200.5 519.5,-178.5 519.5,-178.5 519.5,-172.5 525.5,-166.5 531.5,-166.5"/>
<text text-anchor="middle" x="549" y="-197.3" font-family="Helvetica,sans-Serif" font-size="14.00">UI</text>
<polyline fill="none" stroke="black" stroke-width="2" points="519.5,-189.5 578.5,-189.5 "/>
<text text-anchor="middle" x="549" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">worker</text>
</g>
<!-- db101&#45;&gt;ui101 -->
<g id="db101_ui101" class="edge"><title>db101:s&#45;&gt;ui101:n</title>
<g id="a_db101_ui101"><a xlink:title="host access">
<path fill="none" stroke="black" d="M549,-246.812C549,-233.8 549,-228.74 549,-213.5"/>
<polygon fill="black" stroke="black" points="547.25,-247 549,-252 550.75,-247 547.25,-247"/>
</a>
</g>
</g>
<!-- rep201 -->
<g id="rep201" class="node"><title>rep201</title>
<g id="a_rep201"><a xlink:title="Ruby replication worker">
<path fill="#ffffff" stroke="black" stroke-width="2" d="M268.5,-260C268.5,-260 309.5,-260 309.5,-260 315.5,-260 321.5,-266 321.5,-272 321.5,-272 321.5,-294 321.5,-294 321.5,-300 315.5,-306 309.5,-306 309.5,-306 268.5,-306 268.5,-306 262.5,-306 256.5,-300 256.5,-294 256.5,-294 256.5,-272 256.5,-272 256.5,-266 262.5,-260 268.5,-260"/>
<text text-anchor="middle" x="289" y="-290.8" font-family="Helvetica,sans-Serif" font-size="14.00">db sync</text>
<polyline fill="none" stroke="black" stroke-width="2" points="256.5,-283 321.5,-283 "/>
<text text-anchor="middle" x="289" y="-267.8" font-family="Helvetica,sans-Serif" font-size="14.00">worker</text>
</a>
</g>
</g>
<!-- db101&#45;&gt;rep201 -->
<g id="db101_rep201" class="edge"><title>db101&#45;&gt;rep201</title>
<g id="a_db101_rep201"><a xlink:title="password from file:vmdb.yml">
<path fill="none" stroke="black" d="M512.567,-283C448.963,-283 385.358,-283 321.754,-283"/>
<polygon fill="black" stroke="black" points="512.931,-284.75 517.931,-283 512.931,-281.25 512.931,-284.75"/>
</a>
</g>
</g>
<!-- ap101 -->
<g id="ap101" class="node"><title>ap101</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M530,-83.5C530,-83.5 568,-83.5 568,-83.5 574,-83.5 580,-89.5 580,-95.5 580,-95.5 580,-117.5 580,-117.5 580,-123.5 574,-129.5 568,-129.5 568,-129.5 530,-129.5 530,-129.5 524,-129.5 518,-123.5 518,-117.5 518,-117.5 518,-95.5 518,-95.5 518,-89.5 524,-83.5 530,-83.5"/>
<text text-anchor="middle" x="549" y="-114.3" font-family="Helvetica,sans-Serif" font-size="14.00">apache</text>
<polyline fill="none" stroke="black" stroke-width="2" points="518,-106.5 580,-106.5 "/>
<text text-anchor="middle" x="549" y="-91.3" font-family="Helvetica,sans-Serif" font-size="14.00">auth...</text>
</g>
<!-- ui101&#45;&gt;ap101 -->
<g id="ui101_ap101" class="edge"><title>ui101&#45;&gt;ap101</title>
<g id="a_ui101_ap101"><a xlink:title="host access">
<path fill="none" stroke="black" d="M549,-161.129C549,-150.864 549,-139.336 549,-129.607"/>
<polygon fill="black" stroke="black" points="547.25,-161.366 549,-166.366 550.75,-161.366 547.25,-161.366"/>
</a>
</g>
</g>
<!-- ui201 -->
<g id="ui201" class="node"><title>ui201</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M156.5,-166.5C156.5,-166.5 191.5,-166.5 191.5,-166.5 197.5,-166.5 203.5,-172.5 203.5,-178.5 203.5,-178.5 203.5,-200.5 203.5,-200.5 203.5,-206.5 197.5,-212.5 191.5,-212.5 191.5,-212.5 156.5,-212.5 156.5,-212.5 150.5,-212.5 144.5,-206.5 144.5,-200.5 144.5,-200.5 144.5,-178.5 144.5,-178.5 144.5,-172.5 150.5,-166.5 156.5,-166.5"/>
<text text-anchor="middle" x="174" y="-197.3" font-family="Helvetica,sans-Serif" font-size="14.00">UI</text>
<polyline fill="none" stroke="black" stroke-width="2" points="144.5,-189.5 203.5,-189.5 "/>
<text text-anchor="middle" x="174" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">worker</text>
</g>
<!-- ui101&#45;&gt;ui201 -->
<g id="ui101_ui201" class="edge"><title>ui101:w&#45;&gt;ui201:e</title>
<g id="a_ui101_ui201"><a xlink:title="user/password from file:v2_key">
<path fill="none" stroke="black" d="M513.519,-191.758C503.509,-201.849 495.679,-242.551 470,-248 456.468,-250.872 234.532,-250.872 221,-248 216.718,-247.091 214.615,-247.511 212,-244 205.846,-235.737 213.786,-202.619 209.083,-192.471"/>
<polygon fill="black" stroke="black" points="514.322,-193.313 518,-189.5 512.747,-190.187 514.322,-193.313"/>
<polygon fill="black" stroke="black" points="210.073,-191.026 205,-189.5 208.014,-193.857 210.073,-191.026"/>
</a>
</g>
</g>
<!-- usera -->
<g id="usera" class="node"><title>usera</title>
<g id="a_usera"><a xlink:title="Admin with Password">
<polygon fill="none" stroke="none" stroke-width="2" points="567,-41.5 531,-41.5 531,-5.5 567,-5.5 567,-41.5"/>
<image xlink:href="user.svg" width="34px" height="36px" preserveAspectRatio="xMinYMin meet" x="532" y="-41.5"/>
<text text-anchor="middle" x="549" y="-8.5" font-family="Helvetica,sans-Serif" font-size="10.00">Admin</text>
</a>
</g>
</g>
<!-- ap101&#45;&gt;usera -->
<g id="ap101_usera" class="edge"><title>ap101:s&#45;&gt;usera:n</title>
<g id="a_ap101_usera"><a xlink:title="password from user, no checking, ui101:get db101:md5(password) use file:database.yml to access db101. config via console">
<path fill="none" stroke="black" d="M549,-77.468C549,-63.6819 549,-58.4722 549,-42.5"/>
<polygon fill="black" stroke="black" points="547.25,-77.5 549,-82.5 550.75,-77.5 547.25,-77.5"/>
</a>
</g>
</g>
<!-- db201 -->
<g id="db201" class="node"><title>db201</title>
<polygon fill="none" stroke="none" stroke-width="2" points="238,-314 176,-314 176,-252 238,-252 238,-314"/>
<image xlink:href="db.svg" width="62px" height="62px" preserveAspectRatio="xMinYMin meet" x="176" y="-314"/>
<text text-anchor="middle" x="207" y="-279.3" font-family="Helvetica,sans-Serif" font-size="14.00">DB2</text>
</g>
<!-- rep201&#45;&gt;db201 -->
<g id="rep201_db201" class="edge"><title>rep201&#45;&gt;db201</title>
<g id="a_rep201_db201"><a xlink:title="host access (database.yml)">
<path fill="none" stroke="black" d="M256.373,-283C251.988,-283 247.603,-283 243.218,-283"/>
<polygon fill="black" stroke="black" points="243.07,-281.25 238.07,-283 243.07,-284.75 243.07,-281.25"/>
</a>
</g>
</g>
<!-- db201&#45;&gt;ui201 -->
<g id="db201_ui201" class="edge"><title>db201:s&#45;&gt;ui201:n</title>
<g id="a_db201_ui201"><a xlink:title="host access (no password in databse.yml)">
<path fill="none" stroke="black" d="M206.311,-246.798C201.572,-230.378 174,-234.1 174,-213.5"/>
<polygon fill="black" stroke="black" points="204.608,-247.273 207,-252 208.078,-246.813 204.608,-247.273"/>
</a>
</g>
</g>
<!-- wk202a -->
<g id="wk202a" class="node"><title>wk202a</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M402.5,-166.5C402.5,-166.5 451.5,-166.5 451.5,-166.5 457.5,-166.5 463.5,-172.5 463.5,-178.5 463.5,-178.5 463.5,-200.5 463.5,-200.5 463.5,-206.5 457.5,-212.5 451.5,-212.5 451.5,-212.5 402.5,-212.5 402.5,-212.5 396.5,-212.5 390.5,-206.5 390.5,-200.5 390.5,-200.5 390.5,-178.5 390.5,-178.5 390.5,-172.5 396.5,-166.5 402.5,-166.5"/>
<text text-anchor="middle" x="427" y="-197.3" font-family="Helvetica,sans-Serif" font-size="14.00">inventory</text>
<polyline fill="none" stroke="black" stroke-width="2" points="390.5,-189.5 463.5,-189.5 "/>
<text text-anchor="middle" x="427" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">worker</text>
</g>
<!-- db201&#45;&gt;wk202a -->
<g id="db201_wk202a" class="edge"><title>db201:s&#45;&gt;wk202a</title>
<g id="a_db201_wk202a"><a xlink:title="password from file:database.yml md5(password) form file:pg_shadow">
<path fill="none" stroke="black" d="M210.536,-248.294C229.822,-239.857 321.889,-247.647 334,-244 356.473,-237.233 379.353,-224.167 396.796,-212.642"/>
<polygon fill="black" stroke="black" points="209.185,-247.174 207,-252 211.718,-249.59 209.185,-247.174"/>
</a>
</g>
</g>
<!-- mem201 -->
<g id="mem201" class="node"><title>mem201</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M84.5,-260C84.5,-260 145.5,-260 145.5,-260 151.5,-260 157.5,-266 157.5,-272 157.5,-272 157.5,-294 157.5,-294 157.5,-300 151.5,-306 145.5,-306 145.5,-306 84.5,-306 84.5,-306 78.5,-306 72.5,-300 72.5,-294 72.5,-294 72.5,-272 72.5,-272 72.5,-266 78.5,-260 84.5,-260"/>
<text text-anchor="middle" x="115" y="-290.8" font-family="Helvetica,sans-Serif" font-size="14.00">memcache</text>
<polyline fill="none" stroke="black" stroke-width="2" points="72.5,-283 157.5,-283 "/>
<text text-anchor="middle" x="115" y="-267.8" font-family="Helvetica,sans-Serif" font-size="14.00">session</text>
</g>
<!-- mem201&#45;&gt;ui201 -->
<g id="mem201_ui201" class="edge"><title>mem201:s&#45;&gt;ui201:n</title>
<g id="a_mem201_ui201"><a xlink:title="host access (firewall)">
<path fill="none" stroke="black" d="M115.584,-253.712C121.712,-228.13 174,-244.674 174,-213.5"/>
<polygon fill="black" stroke="black" points="113.809,-253.838 115,-259 117.288,-254.222 113.809,-253.838"/>
</a>
</g>
</g>
<!-- pam201 -->
<g id="pam201" class="node"><title>pam201</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M84,-83.5C84,-83.5 114,-83.5 114,-83.5 120,-83.5 126,-89.5 126,-95.5 126,-95.5 126,-117.5 126,-117.5 126,-123.5 120,-129.5 114,-129.5 114,-129.5 84,-129.5 84,-129.5 78,-129.5 72,-123.5 72,-117.5 72,-117.5 72,-95.5 72,-95.5 72,-89.5 78,-83.5 84,-83.5"/>
<text text-anchor="middle" x="99" y="-114.3" font-family="Helvetica,sans-Serif" font-size="14.00">pam</text>
<polyline fill="none" stroke="black" stroke-width="2" points="72,-106.5 126,-106.5 "/>
<text text-anchor="middle" x="99" y="-91.3" font-family="Helvetica,sans-Serif" font-size="14.00">sssd</text>
</g>
<!-- pam201&#45;&gt;kdc301 -->
<g id="pam201_kdc301" class="edge"><title>pam201&#45;&gt;kdc301</title>
<g id="a_pam201_kdc301"><a xlink:title="file:keytab config ipa&#45;client">
<path fill="none" stroke="black" d="M99,-83.3664C99,-73.6337 99,-62.1057 99,-51.8424"/>
<polygon fill="black" stroke="black" points="100.75,-51.6068 99,-46.6068 97.2501,-51.6069 100.75,-51.6068"/>
</a>
</g>
</g>
<!-- pam201&#45;&gt;ldp301 -->
<g id="pam201_ldp301" class="edge"><title>pam201&#45;&gt;ldp301</title>
<path fill="none" stroke="black" d="M79.3257,-83.3664C70.2776,-73.1873 59.4838,-61.0443 50.0563,-50.4383"/>
<polygon fill="black" stroke="black" points="51.2804,-49.1813 46.6505,-46.6068 48.6644,-51.5066 51.2804,-49.1813"/>
</g>
<!-- ui201&#45;&gt;ldp301 -->
<g id="ui201_ldp301" class="edge"><title>ui201&#45;&gt;ldp301</title>
<g id="a_ui201_ldp301"><a xlink:title="password from file:vmdb.ymlconfig:ui201">
<path fill="none" stroke="black" d="M144.085,-179.667C119.151,-170.863 84.3733,-155.002 63,-130 43.9435,-107.708 34.8335,-74.8397 30.5717,-51.7277"/>
<polygon fill="black" stroke="black" points="32.2707,-51.2839 29.6857,-46.66 28.823,-51.8867 32.2707,-51.2839"/>
</a>
</g>
</g>
<!-- ui201&#45;&gt;iam1 -->
<g id="iam1_ui201" class="edge"><title>ui201&#45;&gt;iam1</title>
<g id="a_iam1_ui201"><a xlink:title="password from db101 config via ui101 md(password) from file:x">
<path fill="none" stroke="black" d="M199.358,-166.305C203.435,-163.288 207.724,-160.406 212,-158 243.735,-140.142 261.348,-153.694 289,-130 313.45,-109.051 329.476,-75.1136 338.363,-51.4044"/>
<polygon fill="black" stroke="black" points="340.079,-51.8057 340.151,-46.5087 336.792,-50.6046 340.079,-51.8057"/>
</a>
</g>
</g>
<!-- ap201 -->
<g id="ap201" class="node"><title>ap201</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M156,-83.5C156,-83.5 194,-83.5 194,-83.5 200,-83.5 206,-89.5 206,-95.5 206,-95.5 206,-117.5 206,-117.5 206,-123.5 200,-129.5 194,-129.5 194,-129.5 156,-129.5 156,-129.5 150,-129.5 144,-123.5 144,-117.5 144,-117.5 144,-95.5 144,-95.5 144,-89.5 150,-83.5 156,-83.5"/>
<text text-anchor="middle" x="175" y="-114.3" font-family="Helvetica,sans-Serif" font-size="14.00">apache</text>
<polyline fill="none" stroke="black" stroke-width="2" points="144,-106.5 206,-106.5 "/>
<text text-anchor="middle" x="175" y="-91.3" font-family="Helvetica,sans-Serif" font-size="14.00">auth?</text>
</g>
<!-- ui201&#45;&gt;ap201 -->
<g id="ui201_ap201" class="edge"><title>ui201:s&#45;&gt;ap201:n</title>
<g id="a_ui201_ap201"><a xlink:title="host access">
<path fill="none" stroke="black" d="M174.038,-160.401C174.221,-148.632 175,-143.934 175,-130"/>
<polygon fill="black" stroke="black" points="172.287,-160.487 174,-165.5 175.787,-160.513 172.287,-160.487"/>
</a>
</g>
</g>
<!-- con201 -->
<g id="con201" class="node"><title>con201</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M233.5,-171.5C233.5,-171.5 274.5,-171.5 274.5,-171.5 280.5,-171.5 286.5,-177.5 286.5,-183.5 286.5,-183.5 286.5,-195.5 286.5,-195.5 286.5,-201.5 280.5,-207.5 274.5,-207.5 274.5,-207.5 233.5,-207.5 233.5,-207.5 227.5,-207.5 221.5,-201.5 221.5,-195.5 221.5,-195.5 221.5,-183.5 221.5,-183.5 221.5,-177.5 227.5,-171.5 233.5,-171.5"/>
<text text-anchor="middle" x="254" y="-185.8" font-family="Helvetica,sans-Serif" font-size="14.00">console</text>
</g>
<!-- ssh201 -->
<g id="ssh201" class="node"><title>ssh201</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M238,-88.5C238,-88.5 268,-88.5 268,-88.5 274,-88.5 280,-94.5 280,-100.5 280,-100.5 280,-112.5 280,-112.5 280,-118.5 274,-124.5 268,-124.5 268,-124.5 238,-124.5 238,-124.5 232,-124.5 226,-118.5 226,-112.5 226,-112.5 226,-100.5 226,-100.5 226,-94.5 232,-88.5 238,-88.5"/>
<text text-anchor="middle" x="253" y="-102.8" font-family="Helvetica,sans-Serif" font-size="14.00">ssh</text>
</g>
<!-- con201&#45;&gt;ssh201 -->
<g id="con201_ssh201" class="edge"><title>con201:s&#45;&gt;ssh201:n</title>
<g id="a_con201_ssh201"><a xlink:title="user@host access">
<path fill="none" stroke="black" d="M253.975,-165.245C253.821,-149.427 253,-143.629 253,-125.5"/>
<polygon fill="black" stroke="black" points="252.226,-165.508 254,-170.5 255.726,-165.492 252.226,-165.508"/>
</a>
</g>
</g>
<!-- ap201&#45;&gt;pam201 -->
<g id="ap201_pam201" class="edge"><title>ap201&#45;&gt;pam201</title>
<g id="a_ap201_pam201"><a xlink:title="host access">
<path fill="none" stroke="black" d="M143.619,-106.5C139.494,-106.5 135.368,-106.5 131.242,-106.5"/>
<polygon fill="black" stroke="black" points="131.016,-104.75 126.016,-106.5 131.016,-108.25 131.016,-104.75"/>
</a>
</g>
</g>
<!-- userp -->
<g id="userp" class="node"><title>userp</title>
<g id="a_userp"><a xlink:title="User with Password">
<polygon fill="none" stroke="none" stroke-width="2" points="234,-41.5 198,-41.5 198,-5.5 234,-5.5 234,-41.5"/>
<image xlink:href="user.svg" width="34px" height="36px" preserveAspectRatio="xMinYMin meet" x="199" y="-41.5"/>
<text text-anchor="middle" x="216" y="-8.5" font-family="Helvetica,sans-Serif" font-size="10.00">usr:p</text>
</a>
</g>
</g>
<!-- ap201&#45;&gt;userp -->
<g id="ap201_userp" class="edge"><title>ap201:s&#45;&gt;userp:n</title>
<g id="a_ap201_userp"><a xlink:title="password from user, no checking, ui201 gets db201:md5(password) use file:database.yml to access db201. config via console">
<path fill="none" stroke="black" d="M175.712,-77.1647C181.156,-58.5258 216,-65.9689 216,-42.5"/>
<polygon fill="black" stroke="black" points="173.926,-77.3125 175,-82.5 177.396,-77.7753 173.926,-77.3125"/>
</a>
</g>
</g>
<!-- userk -->
<g id="userk" class="node"><title>userk</title>
<g id="a_userk"><a xlink:title="User With Kerberos Ticket">
<polygon fill="none" stroke="none" stroke-width="2" points="180,-41.5 144,-41.5 144,-5.5 180,-5.5 180,-41.5"/>
<image xlink:href="user.svg" width="34px" height="36px" preserveAspectRatio="xMinYMin meet" x="145" y="-41.5"/>
<text text-anchor="middle" x="162" y="-8.5" font-family="Helvetica,sans-Serif" font-size="10.00">usr:k</text>
</a>
</g>
</g>
<!-- ap201&#45;&gt;userk -->
<g id="ap201_userk" class="edge"><title>ap201:s&#45;&gt;userk:n</title>
<g id="a_ap201_userk"><a xlink:title="token from file:keytab, server fetches from pam(?) server verifies. client config via kinit, server config via console (ipconfig?)">
<path fill="none" stroke="black" d="M174.625,-77.2683C172.493,-63.1101 162,-59.2946 162,-42.5"/>
<polygon fill="black" stroke="black" points="172.897,-77.638 175,-82.5 176.388,-77.3876 172.897,-77.638"/>
</a>
</g>
</g>
<!-- ssh201&#45;&gt;pam201 -->
<g id="ssh201_pam201" class="edge"><title>ssh201&#45;&gt;pam201</title>
<g id="a_ssh201_pam201"><a xlink:title="host access">
<path fill="none" stroke="black" d="M236.027,-124.685C227.781,-132.202 217.232,-140.068 206,-144 179.992,-153.104 169.91,-153.381 144,-144 137.163,-141.525 130.635,-137.507 124.776,-133.001"/>
<polygon fill="black" stroke="black" points="125.822,-131.596 120.832,-129.817 123.623,-134.319 125.822,-131.596"/>
</a>
</g>
</g>
<!-- ssh201&#45;&gt;userp -->
<g id="ssh201_userp" class="edge"><title>ssh201:s&#45;&gt;userp:n</title>
<g id="a_ssh201_userp"><a xlink:title="password from user, md5(password) from file:/etc/passwd">
<path fill="none" stroke="black" d="M252.477,-82.5002C247.98,-62.4001 216,-66.5719 216,-42.5"/>
<polygon fill="black" stroke="black" points="250.739,-82.7092 253,-87.5 254.22,-82.345 250.739,-82.7092"/>
</a>
</g>
</g>
<!-- userc -->
<g id="userc" class="node"><title>userc</title>
<g id="a_userc"><a xlink:title="User With SSL Cert">
<polygon fill="none" stroke="none" stroke-width="2" points="288,-41.5 252,-41.5 252,-5.5 288,-5.5 288,-41.5"/>
<image xlink:href="user.svg" width="34px" height="36px" preserveAspectRatio="xMinYMin meet" x="253" y="-41.5"/>
<text text-anchor="middle" x="270" y="-8.5" font-family="Helvetica,sans-Serif" font-size="10.00">usr:c</text>
</a>
</g>
</g>
<!-- ssh201&#45;&gt;userc -->
<g id="ssh201_userc" class="edge"><title>ssh201:s&#45;&gt;userc:n</title>
<g id="a_ssh201_userc"><a xlink:title="id_rsa from file, id_rsa.pub from file. client configured from ssh&#45;keygen, server configured on ssh&#45;copy&#45;id via password">
<path fill="none" stroke="black" d="M253.355,-82.3878C255.796,-65.5939 270,-62.0423 270,-42.5"/>
<polygon fill="black" stroke="black" points="251.601,-82.3907 253,-87.5 255.092,-82.6333 251.601,-82.3907"/>
</a>
</g>
</g>
<!-- wk202a&#45;&gt;cloud2 -->
<g id="cloud2_wk202a" class="edge"><title>wk202a&#45;&gt;cloud2</title>
<g id="a_cloud2_wk202a"><a xlink:title="password from db101 config via ui101 md(password) from file:x">
<path fill="none" stroke="black" d="M429.562,-166.382C433.014,-136.588 439.153,-83.6033 442.872,-51.4957"/>
<polygon fill="black" stroke="black" points="444.611,-51.6968 443.448,-46.5286 441.134,-51.294 444.611,-51.6968"/>
</a>
</g>
</g>
<!-- userk&#45;&gt;kdc301 -->
<g id="userp_kdc301" class="edge"><title>userk&#45;&gt;kdc301</title>
<path fill="none" stroke="black" d="M143.754,-23.5C139.61,-23.5 135.465,-23.5 131.32,-23.5"/>
<polygon fill="black" stroke="black" points="131.07,-21.7501 126.07,-23.5 131.07,-25.2501 131.07,-21.7501"/>
</g>
</g>
</svg>

</div>
<div id="desc-wrap">
  <div id="desc">
    <p>a</p>
    <p>b</p>
  </div>
</div>
<script>
/* selecting an edge is difficult */
/* instead of relying upon mouseover/mouseout, having mouseover sticky */

var current_node = null;

/* used for hilighting */
function childNodes(parent) {
  return d3.select(parent).selectAll("path,polygon,polyline");
}
function displayEdge(id) {
  if(id == current_node)
    return;
  if(current_node) {
    var old_ids = current_node.split('_');
    childNodes("#"+old_ids[0]).style("stroke", "")
    childNodes("#"+old_ids[1]).style("stroke", "")
  }
  current_node = id;

  var ids = id.split('_');
  childNodes("#"+ids[0]).style("stroke", "green")
  childNodes("#"+ids[1]).style("stroke", "green")

  var info = d3.select("#"+id+" a")
  if (info)
    info = info.attr("xlink:title") +"<br>";
  else
    info = "";
  console.debug(id, ids, info)
  d3.select("#desc").html(info+"<br />"+ids[0] +" to "+ids[1]);
}

d3.selectAll(".node").on('mouseover', function() {
  childNodes(this).style("stroke", "red");
}).on('mouseout', function() {
  childNodes(this).style("stroke", "");
});

d3.selectAll(".edge").on('mouseover', function() {
  console.debug('over edge', this.id, this);
  displayEdge(this.id);
}); 
</script>
</body>
